$(document).ready(function () { Object.create(objFamiliars).init() }); let objFamiliars = { init: function () { let e = this; $(".ajax-view_content").on("click", function (a) { a.preventDefault(); let t = $(this).attr("value"); e.ajax(t) }) }, ajax: function (e) { this.url = "/familiar/" + e, $.post(this.url, { id: e }).done(function (e) { 1 == e.message && (r = e.result, $("#ajax-no-content").remove(), $(".fam").remove(), $(".filter-menu.category").after('<article class="fam"><div class="m-auto"></div></article>'), r.imageBackground ? $("article.fam > div").append('<img src="' + e.url + r.imageBackground.name + '" alt="' + r.name + '">') : $("article.fam > div").append('<img src="' + e.defaultImage + '" alt="Aucune information">'), $("article.fam > div").append('<div class="fam-name">' + r.name + "</div>"), $("article.fam > div").append('<div class="fam-lvlPreview"><p>Level 60</p></div>'), r.competence1 && ($("article.fam > div").append('<div class="fam-comp1"></div>'), $(".fam-comp1").append('<div class="comp1-img" tabindex="0" data-toggle="tooltip" data-placement="left" title="' + r.competence1Desc + '"></div>'), $(".fam-comp1").append(r.competence1)), r.competence2 && ($("article.fam > div").append('<div class="fam-comp2"></div>'), $(".fam-comp2").append('<div class="comp2-img" tabindex="0" data-toggle="tooltip" data-placement="left" title="' + r.competence2Desc + '"></div>'), $(".fam-comp2").append(r.competence2)), r.competence3 && ($("article.fam > div").append('<div class="fam-comp3"></div>'), $(".fam-comp3").append('<div class="comp3-img" tabindex="0" data-toggle="tooltip" data-placement="left" title="' + r.competence3Desc + '"></div>'), $(".fam-comp3").append(r.competence3)), r.talent && ($("article.fam > div").append('<div class="fam-talent"></div>'), $(".fam-talent").append('<div class="talent-img" tabindex="0" data-toggle="tooltip" data-placement="left" title="' + r.talentDesc + '"></div>'), $(".fam-talent").append(r.talent)), $('[data-toggle="tooltip"]').tooltip()), 0 == e.message && ($("#ajax-no-content").remove(), $(".fam").remove(), $(".filter-menu.category").after('<div id="ajax-no-content">Familier introuvable...</div>')) }).fail(function () { $("#ajax-no-content").remove(), $(".fam").remove(), $(".filter-menu.category").after('<div id="ajax-no-content">Tiens ! Tiens ! Tiens ! Hé bha il y a un problème ^^, contact l\'admin si le problème persiste...</div>') }) } };