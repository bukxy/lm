$(document).ready(function () { Object.create(objFamiliarsByCat).init() }); let objFamiliarsByCat = { init: function () { let e = this; $(".ajax-view_contentByCat").on("click", function (a) { a.preventDefault(); let t = $(this).attr("value"); e.ajax(t) }) }, ajax: function (e) { this.url = "/familiar/category/" + e, $.post(this.url, { id: e }).done(function (e) { 1 == e.message && (r = e.result, $("#ajax-no-content").remove(), $(".fam").remove(), $.each(r, function (a) { $(".filter-menu.category").after('<article id="' + r[a].id + '" class="fam"><div class="m-auto"></div></article>'), r[a].imageBackground ? $("article.fam#" + r[a].id + " > div").append('<img src="' + e.url + r[a].imageBackground.name + '" alt="' + r[a].name + '">') : $("article.fam#" + r[a].id + " > div").append('<img src="' + e.defaultImage + '" alt="Aucune information">'), $("article.fam#" + r[a].id + " > div").append('<div class="fam-name">' + r[a].name + "</div>"), $("article.fam#" + r[a].id + " > div").append('<div class="fam-lvlPreview"><p>Level 60</p></div>'), r[a].competence1 && ($("article.fam#" + r[a].id + " > div").append('<div class="fam-comp1"></div>'), $(".fam-comp1").append('<div class="comp1-img" tabindex="0" data-toggle="tooltip" data-placement="top" title="' + r[a].competence1Desc + '"></div>'), $(".fam-comp1").append(r[a].competence1)), r[a].competence2 && ($("article.fam#" + r[a].id + " > div").append('<div class="fam-comp2"></div>'), $(".fam-comp2").append('<div class="comp2-img" tabindex="0" data-toggle="tooltip" data-placement="top" title="' + r[a].competence2Desc + '"></div>'), $(".fam-comp2").append(r[a].competence2)), r[a].competence3 && ($("article.fam#" + r[a].id + " > div").append('<div class="fam-comp3"></div>'), $(".fam-comp3").append('<div class="comp3-img" tabindex="0" data-toggle="tooltip" data-placement="top" title="' + r[a].competence3Desc + '"></div>'), $(".fam-comp3").append(r[a].competence3)), r[a].talent && ($("article.fam#" + r[a].id + " > div").append('<div class="fam-talent"></div>'), $(".fam-talent").append('<div class="talent-img" tabindex="0" data-toggle="tooltip" data-placement="top" title="' + r[a].talentDesc + '"></div>'), $(".fam-talent").append(r[a].talent)) }), $('[data-toggle="tooltip"]').tooltip()), 0 == e.message && ($("#ajax-no-content").remove(), $(".fam").remove(), $(".filter-menu.category").after('<div id="ajax-no-content">Catégorie introuvable...</div>')) }).fail(function () { $("#ajax-no-content").remove(), $(".fam").remove(), $(".filter-menu.category").after('<div id="ajax-no-content">Tiens ! Tiens ! Tiens ! Hé bha il y a un problème ^^, contact l\'admin si le problème persiste...</div>') }) } };