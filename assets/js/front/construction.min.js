$(document).ready(function () { Object.create(objConst).init() }); let objConst = { init: function () { let e = this; $(".ajax-view_content").on("click", function (t) { t.preventDefault(); let n = $(this).attr("value"); e.ajax(n) }) }, ajax: function (e) { this.url = "/construction/" + e, $.post(this.url, { id: e }).done(function (e) { 1 == e.message && (r = e.result, $("#ajax-no-content").remove(), $("article.const").remove(), $(".filter-menu").after('<article class="const"><div class="name"></div><div class="content"></div></article>'), $("article.const .name").append('<div><img src="' + e.url + '/bandeau_rouge.png"></div>'), $("article.const .name div").append("<div><span>" + r.name + "</span></div>"), r.image ? $("article.const .name").after('<div><img src="' + e.url + "/images/" + r.image.name + '"></div>') : $("article.const .name").after('<div><img src="' + e.url + '/uploads/default.png"></div>'), $("article.const .content").append("<div>" + r.content + "</div>"), $('[data-toggle="tooltip"]').tooltip()), 0 == e.message && ($("#ajax-no-content").remove(), $("article.const").remove(), $(".filter-menu").after('<div id="ajax-no-content">Construction introuvable...</div>')) }).fail(function () { $("#ajax-no-content").remove(), $("article.const").remove(), $(".filter-menu").after('<div id="ajax-no-content">Tiens ! Tiens ! Tiens ! Hé bha il y a un problème ^^, contact l\'admin si le problème persiste...</div>') }) } };